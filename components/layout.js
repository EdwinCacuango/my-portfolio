import Head from "next/head";
import Script from "next/script";
import { useState } from "react";
import Header from "./Header";
import IconBar from "./IconBar";
import { NavBlogMobile } from "./NavMenus/Nav-Blog";

export default function Layout({ children, home, slug, coverUrl, title }) {
  const [active, setActive] = useState(false);

  return (
    <div>
      <Head>
        <title>{title}</title>
        <meta name="description" content="Generated by create next app" />
        {slug && <meta name="image" property="og:image" content={coverUrl} />}
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Script
        data-host="https://microanalytics.io"
        data-dnt="false"
        src="https://microanalytics.io/js/script.js"
        id="ZwSg9rf6GA"
        async
        defer
      ></Script>
      <div className="general-container">
        <Header home={home} activeState={{ active, setActive }} />
        {active ? (
          <NavBlogMobile activeState={{ active, setActive }} />
        ) : (
          <>
            {home && (
              <IconBar className="hidden sidebar md:block fixed top-[45%] left-[6%]" />
            )}
            {home ? (
              <main className="home-main center container">{children}</main>
            ) : (
              <main className="main center container lg:pl-12 pl-6">
                {children}
              </main>
            )}
          </>
        )}
      </div>
    </div>
  );
}
